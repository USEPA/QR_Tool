<MainScreenWidget>:
    id: main  # whole window
    orientation: 'vertical'
    background_color: (0, 255, 255, 1)
    ScreenWidget:
        do_scroll_x: True
        do_scroll_y: True
        bar_width: 5
        BoxLayout:
            id: mainbox
            orientation: 'vertical'
            BoxLayout:
                id: topsection  # top third of the app
                orientation: 'vertical'
                size_hint: None, None
                size: 1000, 250
                BoxLayout:
                    id: textandimagesection  # section with title and preview images
                    orientation: 'horizontal'
                    size_hint: None, None
                    size: 1000, 200
                    BoxLayout:
                        id: textsection
                        orientation: 'vertical'
                        size_hint: None, None
                        size: 700, 200
                        Label:
                            id: mainlabel
                            text: "Simple QUIck REad Label (SQUIREL)"
                            font_size: 36
                            valign: 'top'
                            halign: 'left'
                            text_size: self.size
                            padding: 20, 20
                            size: 700, 50
                            background_color: (25, 255, 0, 1)
                        ScrollView:
                            do_scroll-x: False
                            do_scroll_y: True
                            bar_width: 5
                            size_hint: None, None
                            size: 700, 125
                            Label:
                                id: sublabel
                                text: "SQUIREL is a lightweight tool for creating sample label designs and generating QR codes for use with data acquisition systems in the field or the laboratory. Users can generate labels by entering study-specific nomenclature into the fields below. Additional columns can be added by clicking the “Add Column” button to expand the format of each label. Rows can be added to include multiple label designs within a single instance. Alternatively, QR codes can be generated by directly importing a CSV file by clicking the “Upload” button. Label sizes can be formatted to fit specific printing dimensions by clicking the “Page Layout” button. Questions or comments regarding the tool can be sent to Timothy Boe (boe.timothy@epa.gov).\n\nTo add a sequential or random number or letter ID to a QR Code ID, type in one of the following placeholders at any location in any column, or in its own column:\n1. #num_seq - Adds a sequentially incrementing number starting from 1 (ex. 1, 2, 3...)\n2. #num_rand - Adds a randomly generated number between 1 and 1000, no repeats\n3. #alpha_seq - Adds a letter sequentially increasing from A-Z (ex. A, B, C...)\n4. #alpha_rand - Adds a random letter combination between A and ZZ, no repeats\n\nCredits: Taha Karimi, Timothy Boe, Worth Calfee"
                                valign: 'top'
                                halign: 'left'
                                font_size: 16
                                size_hint_y: None
                                text_size: self.width, None
                                height: self.texture_size[1]
                                padding: 5, 0
                                size: 700, 150
                    BoxLayout:
                        id: border
                        orientation: 'vertical'
                        size_hint: None, None
                        size: 1, 200
                        canvas.before:
                            Color:
                                rgba: (0,1,1,1)
                            Line:
                                width: 1.1
                                rectangle: self.x, self.y, self.width, self.height
                    BoxLayout:
                        id: imagelabelandbuttonssection  # preview image section
                        orientation: 'vertical'
                        size_hint: None, None
                        size: 300, 200
                        Label:
                            id: imagelabel
                            text: "Preview"
                            text_size: self.size
                            size: 300, 25
                            padding: 5, 0
                            halign: 'left'
                        BoxLayout:
                            id: imageandbuttonsection
                            orientation: 'horizontal'
                            size_hint: None, None
                            size: 300, 175
                            FloatLayout:
                                id: leftbuttonfloat
                                size_hint: None, None
                                size: 50, 30
                                Button:
                                    id: leftpreviewbutton
                                    size_hint: None, None
                                    size: 50, 30
                                    pos: 701, 375
                                    text: "<"
                                    on_release: root.preview_left();
                            Image:
                                id: previewimage
                                source: ''
                                size_hint: None, None
                                size: 200, 175
                            FloatLayout:
                                id: rightbuttonfloat
                                size_hint: None, None
                                size: 50, 30
                                Button:
                                    id: rightpreviewbutton
                                    size_hint: None, None
                                    size: 50, 30
                                    pos: 950, 375
                                    text: ">"
                                    on_release: root.preview_right();
                BoxLayout:
                    id: border2
                    orientation: 'horizontal'
                    size_hint: None, None
                    size: 1000, 1
                    canvas.before:
                        Color:
                            rgba: (0,1,1,1)
                        Line:
                            width: 1.1
                            rectangle: self.x, self.y, self.width, self.height
                BoxLayout:
                    id: checkboxessection  # section with check boxes
                    orientation: 'horizontal'
                    size_hint: None, None
                    size: 1000, 50
                    CheckBox:
                        id: gencsv
                        active: False
                        size_hint: None, None
                        size: 50, 50
                    Label:
                        id: csvcheckbox
                        text: "Generate CSV"
                        size_hint: None, None
                        size: 80, 50
                    CheckBox:
                        id: individualcodes
                        active: False
                        size_hint: None, None
                        size: 50, 50
                    Label:
                        id: codescheckbox
                        text: "Individual QR Codes"
                        size_hint: None, None
                        size: 120, 50
                    FloatLayout:  # contains the add and remove row btns
                        id: addremovesection
                        #orientation: 'horizontal'
                        size_hint: None, None
                        size: 400, 50
                        Button:
                            text: "Add Row"
                            size_hint: None, None
                            size: 70, 30
                            pos: 820, 270
                            on_release: root.add_row();
                        Button:
                            text: "Remove Row"
                            size_hint: None, None
                            size: 100, 30
                            pos: 890, 270
                            on_release: root.remove_row();
            BoxLayout:
                id: boxlayoutformiddlesection  # middle third of app
                orientation: 'horizontal'
                size_hint: None, None
                size: 1000, 200
                Label:
                    id: justplaceholder
                    size_hint: None, None
                    size: 5, 200
                ScreenWidget:  # this contains the rows and columns
                    id: main_scroll
                    do_scroll_x: True
                    do_scroll_y: True
                    bar_width: 10
                    scroll_type: ['bars', 'content']
                    size_hint: None, None
                    size: 995, 190
                    StackLayout:
                        id: middlesection
                        orientation: 'tb-lr'
                        size_hint: None, None
                        size: 4295, 1050
            FloatLayout:
                id: bottomsection  # this contains the lower third of the app
                #orientation: 'horizontal'
                size_hint: None, None
                size: 1000, 50
                Button:
                    id: uploadbutton
                    text: "Upload"
                    font_size: 13
                    color: (0, 0, 0, 1)
                    background_color: (255, 255, 255, 1)
                    size_hint: None, None
                    size: 150, 50
                    pos: 15, 5
                    on_release: root.upload();
                Label:
                    id: uploadedfilename
                    text: "No file uploaded."
                    size_hint: None, None
                    size: 150, 50
                    pos: 155, 5
                Button:
                    id: previewbutton
                    text: "Preview"
                    font_size: 13
                    color: (0, 0, 0, 1)
                    background_color: (255, 255, 255, 1)
                    size_hint: None, None
                    size: 150, 50
                    pos: 645, 5
                    on_release: root.set_preview();
                Button:
                    id: createbutton
                    text: "Create"
                    font_size: 13
                    color: (0, 0, 0, 1)
                    background_color: (255, 255, 255, 1)
                    size_hint: None, None
                    size: 150, 50
                    pos: 800, 5
                    on_release: root.create_popup();

<RowWidget>:  # the row widget which is instantiated and more of which are added and removed
    orientation: 'lr-tb'
    size_hint: None, None
    size: 4175, 50
    padding: 0, 20
    spacing: 10
    Label:
        id: rownumber
        text: "1"
        size_hint: None, None
        size: 40, 50
    BoxLayout:
        id: headerandnumbersection
        orientation: 'vertical'
        size_hint: None, None
        size: 45, 50
        Label:
            id: numberheader
            text: "#"
            size_hint: None, None
            size: 45, 20
        TextInput:
            id: numberfield
            text: "1"
            size_hint: None, None
            size: 45, 30
            use_bubble: True
            use_handles: True
            input_filter: 'int'
            write_tab: False
    TextInput:
        id: field1
        text: "Sponge"
        size_hint: None, None
        size: 200, 50
        use_bubble: True
        use_handles: True
        write_tab: False
        on_touch_down: root.touch_down()
        on_touch_up: root.touch_up()
        on_touch_move: root.touch_move()

<ColWidget>:  # colwidget that is instantiated and added/removed, is added to rowwidget above
    id: newcol
    text: ""
    size_hint: None, None
    size: 200, 50
    use_bubble: True
    use_handles: True
    write_tab: False
    on_touch_down: root.touch_down()
    on_touch_up: root.touch_up()
    on_touch_move: root.touch_move()

<AddRemoveColWidget>:  # widget that has adding and removing column btns
    id: addremovecols
    orientation: 'vertical'
    size_hint: None, None
    size: 45, 50
    Button:
        text: "Add Column"
        size_hint: None, None
        size: 100, 25
        on_release: root.call_add_col();
    Button:
        text: "Remove Column"
        size_hint: None, None
        size: 120, 25
        on_release: root.call_remove_col();

<FileSettingsWidget>:  # widget for pdf creation options
    orientation: 'vertical'
    BoxLayout:
        id: firsthorizontalbox
        orientation: 'horizontal'
        padding: 0, 5
        Button:
            id: folderchooser
            text: "Choose Folder"
            size_hint: None, None
            size: 195, 50
            on_release: root.choose_save_folder();
        Label:
            id: folderpath
            text: "No folder selected, default is root folder."
            size_hint: None, None
            size: 430, 50
            halign: 'center'
            valign: 'center'
            text_size: self.size
    BoxLayout:
        id: secondhorizontalbox
        orientation: 'horizontal'
        padding: 0, 5
        Spinner:
            id: pdflayout
            size_hint: None, None
            size: 300, 50
            text: 'Default (5x4)'
            values: 'Default (5x4)', '4x1', '4x2', '4x3', '4x4', '3x2', '3x3', '2x2', '1x2 and 5/8', 'Landscape Text'
        Label:
            id: pdflayoutlabel
            text: "Page Layout (Rows x Columns or Other)"
            size_hint: None, None
            size: 315, 50
            padding: 20, 0
            halign: 'left'
            valign: 'center'
            text_size: self.size
    BoxLayout:
        id: thirdhorizontalbox
        orientation: 'horizontal'
        Button:
            id: file_settings_widget
            text: "Create"
            size_hint: None, None
            size: 312, 50
            on_release: root.call_create()
            on_release: root.file_settings_popup.dismiss()
        Button:
            text: "Cancel"
            size_hint: None, None
            size: 312, 50
            on_release: root.file_settings_popup.dismiss()
            halign: 'right'

<ErrorWidget>:  # widget that is used to display an error msg to user
    orientation: 'vertical'
    BoxLayout:
        orientation: 'vertical'
        Button:
            id: error_widget_button
            text: "OK"
            size_hint: None, None
            size: 392, 70
            on_release: root.error_widget_popup.dismiss()

<ExitWidget>:  # widget that comes up when 'X' btn is closed
    orientation: 'vertical'
    BoxLayout:
        orientation: 'horizontal'
        Button:
            id: exit_widget
            text: "Yes"
            size_hint: None, None
            size: 195, 70
            on_release: root.confirm_exit()
            on_release: root.exit_widget_popup.dismiss()
        Button:
            text: "No"
            size_hint: None, None
            size: 195, 70
            on_release: root.exit_widget_popup.dismiss()